<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0088)https://uniwebsidad.com/static/libros/ejercicios/javascript/ejercicio13/ejercicio13.html -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <title>Ejercicio 13 - DOM b�sico y atributos XHTML</title>
    <script type="text/javascript">
      window.onload = function () {
        /**
         * Aunque haya un solo 'input', ese se añade indiferentemente
         * al array de todos los inputs que se obtendrían.
         */
        var botones = document.getElementsByTagName("input");
        var num = 1;
        for (var i = 0; i < botones.length; i++) {
          botones[i].onclick = anade;
        }

        function anade() {
          var texto = document.createElement("li");
          var listado = document.getElementsByTagName("li");
          texto.setAttribute("id", "texto_" + num)
          var contenido = document.createTextNode("Prueba " + num);
          texto.appendChild(contenido);
          var lista = document.getElementById("lista");
          lista.appendChild(texto);
          const newButton = document.createElement("button");
          newButton.textContent = "Borrar";
          newButton.setAttribute("id", "quitar_" + num);
          num++;
          texto.appendChild(newButton);

          /**
           * Utilizar un bucle que recorra todos los botones de
           * la página.
           */
          var botones = document.getElementsByTagName("button");

          for (j in botones) {
            botones[j].onclick = borra;
          }

          function borra() {
            var idBoton = this.id;
            var trozos = idBoton.split("_");
            var numero = trozos[1];
            var texto = document.getElementById("texto_" + numero);
            texto.parentNode.removeChild(texto);
          }
        }
      };
    </script>
  </head>
  <body>
    <ul id="lista">
      <li>Lorem ipsum dolor sit amet</li>
      <li>Consectetuer adipiscing elit</li>
      <li>Sed mattis enim vitae orci</li>
      <li>Phasellus libero</li>
      <li>Maecenas nisl arcu</li>
    </ul>
    <input
      type="button"
      value="A�adir elemento"
      onclick="if (!window.__cfRLUnblockHandlers) return false; anade();"
    />
  </body>
</html>
